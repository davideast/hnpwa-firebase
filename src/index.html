<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#ffa100">
    <title>HNPWA Firebase Node.js Hosting</title>

    <!-- ::EMBEDDED-STYLES:: -->
    
  </head>
  <body>
    <div class="hn-layoutcontainer">

      <nav class="hn-navbar">
        <div class="hn-headericon">
          <img height="60" width="44" alt="Firebase Logo" src="/images/firebase-logo-64.png">
        </div>

        <ul class="hn-navlist">
          <li>
            <a href="/news">NEWS</a>
          </li>
          <li>
            <a href="/ask">ASK</a>
          </li>
          <li>
            <a href="/show">SHOW</a>
          </li>
          <li>
            <a href="/jobs">JOBS</a>
          </li>
        </ul>
      </nav>

      <section class="hn-storylist">

        <!-- ::STORIES:: -->

      </section>

      <section class="hn-item">

        <!-- ::ITEM:: -->

      </section>

    </div>

    <script>
      if ('serviceWorker' in navigator) {
        function attachOnUpdateFound(registration, versionChangeCallback, offlineReadyCallback) {
          registration.onupdatefound = function () {
            var installingWorker = registration.installing;
            installingWorker.onstatechange = function () {
              if (installingWorker.state === 'installed') {
                if (navigator.serviceWorker.controller) {
                  versionChangeCallback();
                } else {
                  offlineReadyCallback();
                }
              }
            };
          };
        }        
        navigator.serviceWorker.register('/sw.main.js').then(function(reg) {
          attachOnUpdateFound(reg, function versionChanged() {
            console.log('new version!');
          }, function offlineReady() {
            console.log('offline ready!');
          });
        });
      }
    </script>
  </body>
</html>
